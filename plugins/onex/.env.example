# =============================================================================
# ONEX Plugin Environment Configuration
# =============================================================================
# This file documents all environment variables required for the ONEX plugin
# to work across different OmniNode repositories (omniclaude, omniarchon,
# omnibase_core, omnidash).
#
# SETUP INSTRUCTIONS:
# 1. Copy this file to your repository root: cp plugins/onex/.env.example .env
# 2. Update the values to match your environment
# 3. Source the file before running commands: source .env
# =============================================================================

# -----------------------------------------------------------------------------
# Path Configuration
# -----------------------------------------------------------------------------
# These variables define where the plugin and repositories are located

# PROJECT_ROOT - Repository containing the plugin (auto-detected from .env location)
# This is usually auto-detected, but you can set it explicitly
# PROJECT_ROOT=/Users/jonah/Code/omniclaude

# OMNICLAUDE_PATH - Location of omniclaude repository
# Required for skills that import shared Python libraries (config, agents)
# Set this if you're using the plugin in a different repository
OMNICLAUDE_PATH=/Users/jonah/Code/omniclaude

# CLAUDE_PLUGIN_ROOT - Location of the ONEX plugin
# Auto-detected by Claude Code when loading plugins
# CLAUDE_PLUGIN_ROOT=${PROJECT_ROOT}/plugins/onex

# -----------------------------------------------------------------------------
# PostgreSQL Database
# -----------------------------------------------------------------------------
# OmniClaude database for agent tracking and observability.
# OMNICLAUDE_DB_URL takes precedence over individual POSTGRES_* fields.

# OMNICLAUDE_DB_URL=postgresql://role_omniclaude:password@192.168.86.200:5436/omniclaude

POSTGRES_HOST=192.168.86.200
POSTGRES_PORT=5436
POSTGRES_DATABASE=omniclaude
POSTGRES_USER=postgres
POSTGRES_PASSWORD=<set_your_password_here>

# -----------------------------------------------------------------------------
# Kafka/Redpanda Event Bus
# -----------------------------------------------------------------------------
# Event-driven infrastructure for intelligence and routing

# For Docker services (internal network)
# KAFKA_BOOTSTRAP_SERVERS=omninode-bridge-redpanda:9092

# For host scripts (external port)
KAFKA_BOOTSTRAP_SERVERS=192.168.86.200:29092

# Legacy compatibility (optional)
# KAFKA_BROKERS=${KAFKA_BOOTSTRAP_SERVERS}

# Kafka timeouts
KAFKA_REQUEST_TIMEOUT_MS=5000

# Feature flags
KAFKA_ENABLE_INTELLIGENCE=true
ENABLE_REAL_TIME_EVENTS=true

# -----------------------------------------------------------------------------
# Qdrant Vector Database
# -----------------------------------------------------------------------------
# Pattern discovery and semantic search (15,689+ patterns)

QDRANT_URL=http://localhost:6333
QDRANT_HOST=localhost
QDRANT_PORT=6333

# HTTPS support (optional)
# QDRANT_HTTPS=false

# -----------------------------------------------------------------------------
# Archon Intelligence Service
# -----------------------------------------------------------------------------
# Intelligence coordinator for pattern discovery and code analysis

ARCHON_INTELLIGENCE_URL=http://localhost:8053

# -----------------------------------------------------------------------------
# Linear Insights (Optional)
# -----------------------------------------------------------------------------
# Deep dive report generation and work analysis

# Output directory for deep dive reports
LINEAR_INSIGHTS_OUTPUT_DIR=${HOME}/Code/omni_save

# Linear API (if using MCP server)
# LINEAR_API_KEY=lin_api_...

# -----------------------------------------------------------------------------
# LLM Endpoints (Optional)
# -----------------------------------------------------------------------------
# Multi-server LLM architecture for code generation, embeddings, etc.

# Linux GPU Server (192.168.86.201)
LLM_CODER_URL=http://192.168.86.201:8000       # Qwen2.5-Coder-14B (RTX 5090)
LLM_EMBEDDING_URL=http://192.168.86.201:8002   # GTE-Qwen2 (RTX 4090)
LLM_FUNCTION_URL=http://192.168.86.201:8001    # Qwen2.5-7B (RTX 4090 hot-swap)

# Mac Studio M2 Ultra (192.168.86.200)
LLM_QWEN_72B_URL=http://192.168.86.200:8100    # Qwen2.5-72B
LLM_VISION_URL=http://192.168.86.200:8102      # Qwen2-VL

# Mac Mini M2 Pro (192.168.86.100)
LLM_QWEN_14B_URL=http://192.168.86.100:8200    # Qwen2.5-14B

# -----------------------------------------------------------------------------
# AI Provider API Keys (Optional)
# -----------------------------------------------------------------------------

# OpenAI
# OPENAI_API_KEY=sk-...

# Google Gemini
# GEMINI_API_KEY=...

# Anthropic Claude
# ANTHROPIC_API_KEY=sk-ant-...

# Z.ai
# ZAI_API_KEY=...

# -----------------------------------------------------------------------------
# Repository-Specific Examples
# -----------------------------------------------------------------------------

# === OMNICLAUDE ===
# PROJECT_ROOT=/Users/jonah/Code/omniclaude
# OMNICLAUDE_PATH=/Users/jonah/Code/omniclaude

# === OMNIARCHON ===
# PROJECT_ROOT=/Users/jonah/Code/omniarchon
# OMNICLAUDE_PATH=/Users/jonah/Code/omniclaude  # For shared config

# === OMNIBASE_CORE ===
# PROJECT_ROOT=/Users/jonah/Code/omnibase_core
# OMNICLAUDE_PATH=/Users/jonah/Code/omniclaude  # For shared config

# === OMNIDASH ===
# PROJECT_ROOT=/Users/jonah/Code/omnidash
# OMNICLAUDE_PATH=/Users/jonah/Code/omniclaude  # For shared config

# -----------------------------------------------------------------------------
# Validation
# -----------------------------------------------------------------------------
# After setting up, validate your configuration:
#
# 1. Source the file:
#    source .env
#
# 2. Verify critical variables:
#    echo "POSTGRES_HOST: ${POSTGRES_HOST}"
#    echo "KAFKA_BOOTSTRAP_SERVERS: ${KAFKA_BOOTSTRAP_SERVERS}"
#    echo "OMNICLAUDE_PATH: ${OMNICLAUDE_PATH}"
#
# 3. Test database connection:
#    psql -h ${POSTGRES_HOST} -p ${POSTGRES_PORT} -U ${POSTGRES_USER} -d ${POSTGRES_DATABASE} -c "SELECT 1"
#
# 4. Test Kafka connection:
#    kcat -L -b ${KAFKA_BOOTSTRAP_SERVERS}
#
# 5. Test Qdrant:
#    curl ${QDRANT_URL}/collections
# -----------------------------------------------------------------------------
