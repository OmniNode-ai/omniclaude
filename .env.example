# OmniClaude Environment Configuration
# ==============================================================================
# Copy this file to .env and fill in your actual API keys
# Never commit .env to version control!
#
# Setup Instructions:
# 1. cp .env.example .env
# 2. Edit .env with your actual API keys
# 3. source .env (or use direnv)
# 4. Verify: echo $GEMINI_API_KEY
#
# See SECURITY_KEY_ROTATION.md for detailed setup and rotation procedures
# ==============================================================================

# ------------------------------------------------------------------------------
# Google Gemini API Configuration
# ------------------------------------------------------------------------------
# Used by: Multi-provider support, AI quorum validation
# Get your key: https://console.cloud.google.com/apis/credentials
# Required for: Gemini Pro, Gemini Flash, Gemini 2.5 Flash providers
# Permissions: Enable "Generative Language API"
# Rate Limits: Check Google Cloud Console for your tier
GEMINI_API_KEY=your_gemini_api_key_here

# Google API Key (Pydantic AI Integration)
# Note: This should be the same as GEMINI_API_KEY for Pydantic AI compatibility
GOOGLE_API_KEY=your_gemini_api_key_here

# ------------------------------------------------------------------------------
# Z.ai API Configuration
# ------------------------------------------------------------------------------
# Used by: GLM model support, high-concurrency operations
# Get your key: https://z.ai/dashboard (or appropriate Z.ai portal)
# Required for: Z.ai provider (GLM-4.5-Air, GLM-4.5, GLM-4.6)
# Rate Limits:
#   - GLM-4.5-Air: 5 concurrent requests
#   - GLM-4.5: 20 concurrent requests
#   - GLM-4.6: 10 concurrent requests
ZAI_API_KEY=your_zai_api_key_here

# ------------------------------------------------------------------------------
# Hook Intelligence Database Configuration
# ------------------------------------------------------------------------------
# Used by: Claude Code hooks for event logging and intelligence gathering
# Purpose: Stores hook events, agent detections, tool usage, correlation tracking
# Database: PostgreSQL (omninode_bridge)
# Default for local development (matches agents/configs/env.example)
DB_PASSWORD=omninode-bridge-postgres-dev-2024

# ------------------------------------------------------------------------------
# Code Generation Database Configuration (OPTIONAL)
# ------------------------------------------------------------------------------
# Used by: Node generation pipeline for template cache metrics and session tracking
# Purpose: Persists generation sessions, artifacts, and template cache analytics
# Database: PostgreSQL (omninode_bridge)
#
# NOTE: This is OPTIONAL. If not set, the system will operate with:
# - In-memory template caching only (no database persistence)
# - Generation will work normally, but metrics won't be persisted
# - A single informational message will be logged at startup
#
# Required for:
# - Template cache metrics persistence
# - Generation session tracking
# - Code generation analytics
#
# Fallback behavior:
# - Template cache works normally (in-memory)
# - No repeated warnings (single info message on initialization)
# - All generation features remain functional
#
# To enable database persistence, uncomment and set:
# POSTGRES_PASSWORD=omninode-bridge-postgres-dev-2024
#
# Connection details (shared with hook intelligence):
# - Host: localhost (POSTGRES_HOST)
# - Port: 5436 (POSTGRES_PORT)
# - Database: omninode_bridge (POSTGRES_DB)
# - User: postgres (POSTGRES_USER)

# ------------------------------------------------------------------------------
# Kafka Configuration
# ------------------------------------------------------------------------------
# Used by: Git hooks for documentation change tracking
# Purpose: Publish documentation events for downstream processing
# Broker: Kafka bootstrap server address
# Topics:
#   - documentation-changed: Documentation file events (added, updated, deleted)
# Default for local development
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_DOC_TOPIC=documentation-changed

# Optional: Enable/disable git hook validation
# Set to 'true' to validate documentation before push
GIT_HOOK_VALIDATE_DOCS=false

# ------------------------------------------------------------------------------
# Security Best Practices
# ------------------------------------------------------------------------------
# 1. Never commit .env files to version control
# 2. Rotate keys every 30-90 days (see SECURITY_KEY_ROTATION.md)
# 3. Use separate keys for development and production
# 4. Enable IP restrictions in provider dashboards
# 5. Set usage quotas to limit damage from leaks
# 6. Monitor API usage regularly
#
# See SECURITY_KEY_ROTATION.md for:
# - How to obtain API keys
# - Step-by-step rotation procedures
# - Testing new keys
# - Troubleshooting common issues
# ------------------------------------------------------------------------------
