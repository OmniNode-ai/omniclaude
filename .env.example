# =============================================================================
# OmniClaude Environment Configuration
# =============================================================================
# Copy this file to .env and configure for your environment:
#   cp .env.example .env
#   nano .env
#   source .env
# =============================================================================

# =====================================================
# ENVIRONMENT CONFIGURATION
# =====================================================
ENVIRONMENT=development
CONTAINER_PREFIX=omniclaude

# =====================================================
# KAFKA / REDPANDA CONFIGURATION
# =====================================================
# Remote Redpanda broker
KAFKA_BROKERS=omninode-bridge-redpanda:9092
KAFKA_BOOTSTRAP_SERVERS=192.168.86.200:29092

# Topic environment prefix (dev, staging, prod)
KAFKA_ENVIRONMENT=dev

# Hook event emission timeout (default: 2s for production)
KAFKA_HOOK_TIMEOUT_SECONDS=2

# Kafka connection tuning (milliseconds)
KAFKA_REQUEST_TIMEOUT_MS=5000
KAFKA_SESSION_TIMEOUT_MS=30000
KAFKA_CONNECTIONS_MAX_IDLE_MS=5000
KAFKA_METADATA_MAX_AGE_MS=5000
KAFKA_MAX_BLOCK_MS=2000
KAFKA_FALLBACK_HOST=localhost
KAFKA_FALLBACK_PORT=9092

# Feature flags
ENABLE_EVENT_INTELLIGENCE=true
ENABLE_KAFKA_LOGGING=true

# =====================================================
# POSTGRESQL DATABASE CONFIGURATION
# =====================================================
POSTGRES_HOST=192.168.86.200
POSTGRES_PORT=5436
POSTGRES_DATABASE=omninode_bridge
POSTGRES_USER=postgres
POSTGRES_PASSWORD=<your_password_here>

# =====================================================
# QDRANT VECTOR DATABASE CONFIGURATION
# =====================================================
QDRANT_HOST=192.168.86.101
QDRANT_PORT=6333
QDRANT_URL=http://192.168.86.101:6333
# Additional allowed hosts for SSRF protection (comma-separated)
# QDRANT_ALLOWED_HOSTS=custom-qdrant.example.com,10.0.0.50

# =====================================================
# VALKEY CACHE CONFIGURATION
# =====================================================
VALKEY_PASSWORD=<your_password_here>
VALKEY_URL=redis://:your_password_here@archon-valkey:6379/0

# =====================================================
# INTELLIGENCE & CACHING CONFIGURATION
# =====================================================
ENABLE_INTELLIGENCE_CACHE=true
USE_EVENT_ROUTING=true

# Cache TTL settings (seconds)
MANIFEST_CACHE_TTL_SECONDS=300
CACHE_TTL_PATTERNS=300
CACHE_TTL_INFRASTRUCTURE=3600
CACHE_TTL_SCHEMAS=1800

# =====================================================
# AGENT CONFIGURATION
# =====================================================
# Agent registry path (optional, auto-detected if not set)
# AGENT_REGISTRY_PATH=/path/to/agents
# REGISTRY_PATH=/path/to/agents

# Tenant identifier for multi-tenant deployments
TENANT_ID=default

# =====================================================
# PATH CONFIGURATION
# =====================================================
# OmniClaude project root (auto-detected if not set)
# OMNICLAUDE_PATH=/path/to/omniclaude
# PROJECT_ROOT=/path/to/omniclaude
# PROJECT_PATH=/path/to/omniclaude

# =====================================================
# SERVICE URLS CONFIGURATION
# =====================================================
MAIN_SERVER_URL=http://localhost:8181
INTELLIGENCE_SERVICE_URL=http://localhost:8053
# MCP_SERVER_URL is derived from ARCHON_MCP_URL if not set

# Ollama base URL (for consensus/quorum AI operations)
OLLAMA_BASE_URL=http://192.168.86.200:11434

# Embedding service (GTE-Qwen2)
EMBEDDING_SERVICE_URL=http://192.168.86.201:8002/v1/embeddings
EMBEDDING_DIMENSIONS=768

# =====================================================
# API KEYS
# =====================================================
# OpenAI (or use Ollama instead)
OPENAI_API_KEY=<your_key_here>

# Google/Gemini
GOOGLE_API_KEY=<your_key_here>
GEMINI_API_KEY=<your_key_here>

# Anthropic (for Claude API access)
# ANTHROPIC_API_KEY=sk-ant-...

# Z.AI
# Z_AI_API_KEY=<your_key_here>

# GitHub Personal Access Token
# GH_PAT=ghp_...

# =====================================================
# HOOK BEHAVIOR CONFIGURATION
# =====================================================
# Enable rate limiting on permission hooks
PERMISSION_HOOK_RATE_LIMIT=false

# Hook event database logging
ENABLE_HOOK_DATABASE_LOGGING=false

# Operation timeout override (seconds, for long-running operations)
# OPERATION_TIMEOUT_OVERRIDE=60

# =====================================================
# TESTING CONFIGURATION
# =====================================================
# Enable Kafka integration tests (requires running Kafka)
# KAFKA_INTEGRATION_TESTS=1

# Enable debug mode
DEBUG=false

# Logging level
LOG_LEVEL=INFO
