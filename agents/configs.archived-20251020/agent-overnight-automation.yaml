agent_domain: overnight_automation
agent_purpose: Orchestrates 24/7 overnight automation for Claude Code agents with
  intelligent scheduling and quota optimization
agent_title: ONEX Anti-YOLO Method + BFROS Framework
agent_description: Orchestrates 24/7 overnight automation for Claude Code agents with
  intelligent scheduling and quota optimization
agent_context: general
domain_query: overnight_automation patterns best practices
implementation_query: overnight_automation implementation strategies
match_count: 5
confidence_threshold: 0.6
knowledge_capture_level: comprehensive
capabilities:
  mandatory_functions: true
  template_system: true
  enhanced_patterns: true
  quality_intelligence: true
  automation_quality_assessment: true
  automation_risk_analysis: true
  automation_success_prediction: true
  automation_safety_validation: true
  automation_pattern_learning: true
  automation_performance_optimization: true
  automation_cost_analysis: true
  automation_health_monitoring: true
archon_mcp_enabled: true
correlation_tracking: true
parallel_capable: true

# Intelligence-specific triggers for automation optimization
intelligence_triggers:
  - "assess automation quality"
  - "analyze automation risks"
  - "predict automation success"
  - "validate automation safety"
  - "learn from automation patterns"
  - "optimize automation performance"
  - "analyze automation costs"
  - "monitor automation health"

# Comprehensive intelligence integration workflow
intelligence_integration:
  pre_execution:
    description: "Quality gates and risk analysis before automation execution"
    steps:
      - action: "assess_automation_quality"
        tool: "assess_code_quality"
        target: "automation_workflow_definition"
        validation:
          min_quality_score: 0.7
          required_checks:
            - "workflow_definition_completeness"
            - "error_handling_coverage"
            - "rollback_mechanism_present"
            - "safety_checks_implemented"
        blocking: true

      - action: "analyze_automation_risks"
        tool: "custom_intelligence_analysis"
        analysis_dimensions:
          - "data_loss_risk"
          - "service_disruption_risk"
          - "credential_exposure_risk"
          - "quota_exhaustion_risk"
          - "cascading_failure_risk"
        validation:
          max_acceptable_risk_score: 0.3
          required_mitigations: ["backup", "monitoring", "rollback"]
        blocking: true

      - action: "predict_automation_success"
        tool: "monitor_performance_trends"
        prediction_factors:
          - "historical_success_rate"
          - "system_health_status"
          - "resource_availability"
          - "dependency_status"
        validation:
          min_success_probability: 0.8
        blocking: false

      - action: "validate_automation_safety"
        tool: "check_architectural_compliance"
        safety_checks:
          - "rate_limiting_configured"
          - "timeout_mechanisms_present"
          - "circuit_breaker_implemented"
          - "health_checks_enabled"
          - "monitoring_configured"
        validation:
          all_checks_must_pass: true
        blocking: true

      - action: "establish_performance_baseline"
        tool: "establish_performance_baseline"
        baseline_metrics:
          - "execution_duration"
          - "resource_consumption"
          - "api_call_count"
          - "error_rate"
          - "success_rate"

  during_execution:
    description: "Real-time monitoring and adaptive optimization during automation"
    monitoring:
      - metric: "automation_health"
        tool: "monitor_performance_trends"
        frequency: "every_5_minutes"
        thresholds:
          error_rate_warning: 0.05
          error_rate_critical: 0.15
          duration_warning: "2x_baseline"
          duration_critical: "3x_baseline"
        actions:
          warning: "log_and_alert"
          critical: "pause_and_investigate"

      - metric: "resource_utilization"
        tool: "identify_optimization_opportunities"
        frequency: "every_10_minutes"
        thresholds:
          cpu_warning: 0.7
          memory_warning: 0.8
          api_quota_warning: 0.9
        actions:
          warning: "optimize_resource_usage"
          critical: "scale_or_pause"

      - metric: "quality_degradation"
        tool: "assess_code_quality"
        frequency: "per_task_completion"
        validation:
          min_output_quality: 0.6
          max_anti_patterns: 3
        actions:
          below_threshold: "flag_for_review"

    adaptive_optimization:
      enabled: true
      strategies:
        - "dynamic_batch_sizing"
        - "intelligent_scheduling"
        - "resource_reallocation"
        - "priority_adjustment"
      feedback_loop: "continuous"

  post_execution:
    description: "Comprehensive analysis and pattern learning after automation"
    analysis:
      - action: "analyze_automation_results"
        tool: "get_optimization_report"
        analysis_scope:
          - "overall_success_rate"
          - "task_completion_quality"
          - "resource_efficiency"
          - "error_patterns"
          - "performance_vs_baseline"
        output_format: "structured_report"

      - action: "identify_improvements"
        tool: "identify_optimization_opportunities"
        focus_areas:
          - "bottleneck_identification"
          - "error_pattern_analysis"
          - "resource_waste_detection"
          - "workflow_inefficiencies"
        prioritization: "impact_vs_effort"

      - action: "learn_automation_patterns"
        tool: "custom_pattern_learning"
        learning_targets:
          - "successful_workflow_patterns"
          - "failure_mode_patterns"
          - "optimal_scheduling_patterns"
          - "resource_optimization_patterns"
        persistence: "archon_knowledge_base"

      - action: "update_quality_baselines"
        tool: "establish_performance_baseline"
        baseline_updates:
          - "success_rate_baseline"
          - "performance_baseline"
          - "quality_baseline"
          - "cost_baseline"

    reporting:
      comprehensive_report:
        enabled: true
        sections:
          - "execution_summary"
          - "quality_assessment"
          - "risk_incidents"
          - "performance_analysis"
          - "cost_analysis"
          - "learned_patterns"
          - "improvement_recommendations"
        distribution: ["archon_dashboard", "slack_notification"]

# Quality gates for automation workflows
quality_gates:
  automation_definition:
    min_quality_score: 0.7
    required_elements:
      - "error_handling"
      - "rollback_mechanism"
      - "monitoring_hooks"
      - "safety_checks"
      - "timeout_configuration"
    blocking: true

  automation_safety:
    max_risk_score: 0.3
    required_safeguards:
      - "rate_limiting"
      - "circuit_breaker"
      - "health_checks"
      - "backup_strategy"
      - "rollback_plan"
    blocking: true

  automation_performance:
    max_duration_multiplier: 3.0  # vs baseline
    max_error_rate: 0.15
    min_success_rate: 0.85
    blocking: false

  automation_cost:
    max_cost_per_run: "defined_budget"
    max_api_calls: "quota_limit"
    cost_benefit_ratio: 2.0  # min ROI
    blocking: false

# Pattern learning configuration for automation strategies
pattern_learning:
  enabled: true
  learning_dimensions:
    - dimension: "workflow_success_patterns"
      focus: "characteristics of successful automation runs"
      metrics: ["success_rate", "quality_score", "efficiency"]

    - dimension: "failure_mode_patterns"
      focus: "common failure modes and their indicators"
      metrics: ["error_types", "failure_frequency", "impact_severity"]

    - dimension: "optimal_scheduling_patterns"
      focus: "best times and sequences for automation tasks"
      metrics: ["completion_time", "resource_availability", "success_rate"]

    - dimension: "resource_optimization_patterns"
      focus: "efficient resource utilization strategies"
      metrics: ["cpu_usage", "memory_usage", "api_quota_usage"]

    - dimension: "quality_maintenance_patterns"
      focus: "strategies that maintain high output quality"
      metrics: ["quality_score", "consistency", "anti_pattern_avoidance"]

  pattern_storage:
    location: "archon_knowledge_base"
    retention: "indefinite"
    indexing: "searchable"

  pattern_application:
    auto_apply_high_confidence: true
    confidence_threshold: 0.85
    validation_required: true

  continuous_improvement:
    enabled: true
    feedback_loop: "real_time"
    adaptation_speed: "gradual"
    safety_first: true
