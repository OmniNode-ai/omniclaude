# ONEX Agent Registry - Dynamic Role System
# Version: 1.0.0
# Purpose: Centralized registry for all agent identities and capabilities
# Integration: agent-polymorphic-agent (Polly) dynamic transformation system

schema_version: "1.0.0"
total_agents: 51
registry_type: "dynamic_role_system"
last_updated: "2025-10-28"

# Registry Metadata
registry_info:
  purpose: "Centralized agent identity registry for dynamic role assumption"
  integration_agent: "agent-polymorphic-agent"
  legacy_integration_agent: "agent-workflow-coordinator"  # Backward compatibility
  context_reduction: "75% reduction from individual .md files"
  performance_target: "<0.5ms agent identity resolution"

# Agent Categories
categories:
  development:
    description: "Core development and coding agents"
    count: 14
    priority: "high"

  architecture:
    description: "System architecture and design agents"
    count: 8
    priority: "high"

  quality:
    description: "Quality assurance and testing agents"
    count: 8
    priority: "medium"

  infrastructure:
    description: "DevOps and infrastructure agents"
    count: 6
    priority: "medium"

  coordination:
    description: "Project and workflow coordination agents"
    count: 7
    priority: "high"

  documentation:
    description: "Documentation and knowledge agents"
    count: 5
    priority: "low"

# Agent Registry
agents:
  # Architecture & Design Agents
  api-architect:
    name: "agent-api-architect"
    title: "API Architect Specialist"
    description: "RESTful API design, OpenAPI specification, FastAPI optimization, and API ecosystem management expert for ONEX services"
    category: "architecture"
    color: "blue"
    task_agent_type: "api_architect"
    definition_path: "agent-definitions/api-architect.yaml"
    priority: "high"
    capabilities: ["api_design", "openapi_specs", "fastapi_optimization", "microservices", "http_services"]
    activation_triggers: ["api design", "openapi", "rest api", "fastapi", "microservices", "endpoint"]
    domain_context: "api_development"
    specialization_level: "expert"

  debug-intelligence:
    name: "agent-debug-intelligence"
    title: "Debug Intelligence Specialist"
    description: "Comprehensive debugging and root cause analysis with intelligent problem-solving"
    category: "development"
    color: "red"
    task_agent_type: "debug_intelligence"
    definition_path: "agent-definitions/debug-intelligence.yaml"
    priority: "high"
    capabilities: ["debugging", "root_cause_analysis", "error_investigation", "performance_correlation", "system_behavior"]
    activation_triggers: ["debug", "error", "troubleshoot", "investigate", "root cause", "bug"]
    domain_context: "debugging"
    specialization_level: "expert"

  frontend-developer:
    name: "agent-frontend-developer"
    title: "Frontend Developer Specialist"
    description: "React/TypeScript UI component development specialist with visual validation, component scaffolding, and accessibility-first design for building modern web applications"
    category: "development"
    color: "cyan"
    task_agent_type: "frontend_developer"
    definition_path: "agent-definitions/frontend-developer.yaml"
    priority: "high"
    capabilities: ["react_development", "typescript_mastery", "ui_component_building", "responsive_design", "api_integration_frontend", "state_management", "accessibility_implementation", "visual_validation"]
    activation_triggers: ["frontend", "frontend development", "frontend task", "frontend integration", "react", "typescript", "ui", "ui component", "ui implementation", "build dashboard", "create component", "implement ui", "responsive design", "build interface", "develop component", "component development", "chat page", "chat ui", "page implementation", "interface implementation", "build page", "create page", "develop ui"]
    domain_context: "frontend_development"
    specialization_level: "expert"

  commit:
    name: "agent-commit"
    title: "Git Commit Specialist"
    description: "Git commit specialist for semantic commit messages without AI attribution"
    category: "development"
    color: "green"
    task_agent_type: "commit"
    definition_path: "agent-definitions/commit.yaml"
    priority: "medium"
    capabilities: ["semantic_commits", "git_workflows", "commit_analysis", "change_categorization"]
    activation_triggers: ["commit", "git commit", "semantic commit", "commit message"]
    domain_context: "version_control"
    specialization_level: "specialist"

  testing:
    name: "agent-testing"
    title: "Testing Specialist"
    description: "Testing specialist for comprehensive test strategy and quality assurance"
    category: "quality"
    color: "green"
    task_agent_type: "testing"
    definition_path: "agent-definitions/testing.yaml"
    priority: "high"
    capabilities: ["test_strategy", "quality_assurance", "test_automation", "coverage_analysis", "onex_testing"]
    activation_triggers: ["test", "testing", "quality assurance", "test strategy", "coverage"]
    domain_context: "quality_assurance"
    specialization_level: "expert"

  performance:
    name: "agent-performance"
    title: "Performance Optimization Specialist"
    description: "Performance optimization specialist for bottleneck detection and system efficiency"
    category: "quality"
    color: "orange"
    task_agent_type: "performance"
    definition_path: "agent-definitions/performance.yaml"
    priority: "high"
    capabilities: ["performance_optimization", "bottleneck_detection", "baseline_establishment", "trend_analysis"]
    activation_triggers: ["performance", "optimization", "bottleneck", "efficiency", "benchmark"]
    domain_context: "performance_optimization"
    specialization_level: "expert"

  security-audit:
    name: "agent-security-audit"
    title: "Security Audit Specialist"
    description: "Security audit specialist for vulnerability assessment, penetration testing, and security compliance validation with comprehensive threat intelligence"
    category: "quality"
    color: "orange"
    task_agent_type: "security_audit"
    definition_path: "agent-definitions/security-audit.yaml"
    priority: "high"
    capabilities: ["vulnerability_assessment", "penetration_testing", "security_compliance", "threat_modeling", "risk_assessment"]
    activation_triggers: ["security", "audit", "vulnerability", "penetration test", "compliance", "threat model"]
    domain_context: "security_assessment"
    specialization_level: "expert"

  devops-infrastructure:
    name: "agent-devops-infrastructure"
    title: "DevOps Infrastructure Specialist"
    description: "Container orchestration, CI/CD pipeline optimization, cloud deployment, and infrastructure automation expert for ONEX systems with mandatory task completion"
    category: "infrastructure"
    color: "orange"
    task_agent_type: "devops_infrastructure"
    definition_path: "agent-definitions/devops-infrastructure.yaml"
    priority: "high"
    capabilities: ["container_orchestration", "ci_cd_pipeline_optimization", "cloud_deployment", "infrastructure_automation", "kubernetes_management", "docker_containerization"]
    activation_triggers: ["devops", "infrastructure", "deployment", "ci/cd", "docker", "kubernetes"]
    domain_context: "infrastructure"
    specialization_level: "expert"

  production-monitor:
    name: "agent-production-monitor"
    title: "Production Monitoring Specialist"
    description: "Comprehensive production monitoring and observability for 24/7 operations with real-time system health tracking, performance analytics, and automated alerting capabilities"
    category: "infrastructure"
    color: "green"
    task_agent_type: "production_monitor"
    definition_path: "agent-definitions/production-monitor.yaml"
    priority: "high"
    capabilities: ["real_time_monitoring", "system_observability", "alerting_automation", "performance_analytics", "incident_detection", "sla_slo_monitoring"]
    activation_triggers: ["production", "monitor", "observability", "alerting", "metrics", "uptime", "monitoring", "incident response", "24/7", "system health"]
    domain_context: "infrastructure"
    specialization_level: "expert"

  agent-observability:
    name: "agent-observability"
    title: "Agent Observability Specialist"
    description: "Real-time monitoring and diagnostics for agent execution health, performance metrics, and system observability with comprehensive error analysis and actionable insights"
    category: "infrastructure"
    color: "purple"
    task_agent_type: "observability"
    definition_path: "agent-definitions/agent-observability.yaml"
    priority: "high"
    capabilities: ["agent_health_monitoring", "error_diagnostics", "performance_analytics", "execution_tracking", "routing_intelligence", "correlation_analysis"]
    activation_triggers: ["observability", "agent health", "monitoring", "diagnostics", "metrics", "check status", "system health", "agent metrics", "error analysis", "performance", "what's the status"]
    domain_context: "infrastructure"
    specialization_level: "expert"

  code-quality-analyzer:
    name: "agent-code-quality-analyzer"
    title: "Code Quality Analyzer Specialist"
    description: "Focused code quality assessment for readability, complexity, maintainability, and best practices compliance with ONEX architectural standards"
    category: "quality"
    color: "gray"
    task_agent_type: "code_quality"
    definition_path: "agent-definitions/code-quality-analyzer.yaml"
    priority: "high"
    capabilities: ["code_quality_assessment", "onex_compliance_verification", "anti_pattern_detection", "quality_improvement_recommendations", "documentation_quality_analysis"]
    activation_triggers: ["code quality", "quality analysis", "compliance", "anti-patterns", "code review", "quality assessment", "onex compliance", "code standards"]
    domain_context: "quality_assurance"
    specialization_level: "expert"

  pr-review:
    name: "agent-pr-review"
    title: "PR Review Specialist"
    description: "PR review specialist for merge readiness assessment and code quality validation"
    category: "quality"
    color: "green"
    task_agent_type: "pr_review"
    definition_path: "agent-definitions/pr-review.yaml"
    priority: "high"
    capabilities: ["pr_analysis", "merge_readiness", "code_review", "security_assessment", "performance_validation", "onex_compliance"]
    activation_triggers: ["pr review", "pull request", "code review", "review code", "merge readiness", "review changes", "assess pr", "quality check", "standards review", "compliance check"]
    domain_context: "code_review"
    specialization_level: "expert"

  research:
    name: "agent-research"
    title: "Research and Investigation Specialist"
    description: "Research and investigation specialist for complex problem analysis and solution discovery"
    category: "documentation"
    color: "gray"
    task_agent_type: "research"
    definition_path: "agent-definitions/research.yaml"
    priority: "medium"
    capabilities: ["systematic_investigation", "problem_analysis", "knowledge_discovery", "root_cause_analysis", "evidence_based_research"]
    activation_triggers: ["research", "investigate", "analysis", "discovery", "explore"]
    domain_context: "research_investigation"
    specialization_level: "expert"

  ticket-manager:
    name: "agent-ticket-manager"
    title: "Ticket Manager Specialist"
    description: "Comprehensive ticket management specialist with AI-powered intelligence, dependency analysis, lifecycle automation, and ONEX standards compliance"
    category: "coordination"
    color: "yellow"
    task_agent_type: "ticket_manager"
    definition_path: "agent-definitions/ticket-manager.yaml"
    priority: "high"
    capabilities: ["ticket_lifecycle_management", "ai_powered_intelligence", "dependency_analysis", "lifecycle_automation", "workflow_optimization", "smart_prioritization"]
    activation_triggers: ["ticket", "issue", "task management", "project management", "ticket lifecycle", "dependency analysis", "workflow automation", "smart prioritization"]
    domain_context: "project_management"
    specialization_level: "expert"

  parameter-collector:
    name: "agent-parameter-collector"
    title: "Intelligent Parameter Collector"
    description: "Intelligent parameter collection system with prompts, validation, file browsers, and smart defaults for any ONEX agent or workflow"
    category: "coordination"
    color: "gray"
    task_agent_type: "parameter_collector"
    definition_path: "agent-definitions/parameter-collector.yaml"
    priority: "high"
    capabilities: ["parameter_collection", "intelligent_prompts", "file_browser", "smart_defaults", "parameter_validation", "workflow_initialization"]
    activation_triggers: ["collect parameters", "parameter collection", "workflow parameters", "smart defaults", "file browser", "parameter prompts", "workflow initialization", "parameter validation"]
    domain_context: "workflow_coordination"
    specialization_level: "expert"

  polymorphic-agent:
    name: "polymorphic-agent"
    title: "Polymorphic Agent (Polly)"
    description: "Multi-agent workflow coordination with polymorphic role assumption and intelligent routing for ONEX development. Dynamic transformation agent also known as Polly, poly, or workflow coordinator."
    category: "coordination"
    color: "purple"
    task_agent_type: "polymorphic_agent"
    definition_path: "agent-definitions/polymorphic-agent.yaml"
    priority: "high"
    capabilities: ["workflow_orchestration", "agent_coordination", "role_assumption", "multi_agent_routing", "parallel_execution", "dynamic_transformation", "polymorphic_transformation"]
    activation_triggers: ["polly", "poly", "spawn poly", "spawn polly", "polymorphic", "polymorphic agent", "workflow coordinator", "coordinate", "orchestrate workflow", "multi-agent", "workflow orchestration", "agent coordination", "dispatch for polly", "dispatch 4 pollys"]
    aliases: ["Polly", "poly", "polly", "pollys", "agent-workflow-coordinator", "workflow-coordinator", "onex-coordinator"]
    domain_context: "workflow_coordination"
    specialization_level: "expert"

  python-fastapi-expert:
    name: "agent-python-fastapi-expert"
    title: "Python FastAPI Expert Specialist"
    description: "Advanced Python development, FastAPI framework mastery, async programming, and Python ecosystem optimization for ONEX applications"
    category: "development"
    color: "blue"
    task_agent_type: "python_fastapi_expert"
    definition_path: "agent-definitions/python-fastapi-expert.yaml"
    priority: "high"
    capabilities: ["python_development", "fastapi_optimization", "async_programming", "python_ecosystem", "backend_development"]
    activation_triggers: ["python", "fastapi", "async", "pydantic", "backend development", "python optimization", "async programming", "python ecosystem"]
    domain_context: "python_development"
    specialization_level: "expert"

  ast-generator:
    name: "agent-ast-generator"
    title: "AST-Based Code Generation Specialist"
    description: "AST-based code generation specialist for ONEX tool directory structures with intelligent pattern learning and quality-driven generation"
    category: "development"
    color: "purple"
    task_agent_type: "ast_generator"
    definition_path: "agent-definitions/ast-generator.yaml"
    priority: "high"
    capabilities: ["ast_manipulation", "code_generation", "onex_tool_creation", "template_generation", "intelligent_pattern_learning", "quality_driven_generation", "anti_pattern_prevention"]
    activation_triggers: ["ast", "generate code structure", "code generation", "scaffold", "abstract syntax tree", "onex tool", "intelligent code generation", "quality-driven AST", "validated AST construction"]
    domain_context: "ast_generation"
    specialization_level: "expert"

  repository-setup:
    name: "agent-repository-setup"
    title: "Repository Setup Specialist"
    description: "Repository initialization, Archon project setup, and automated configuration of repository-aware development environments for seamless Claude Code agent integration"
    category: "infrastructure"
    color: "green"
    task_agent_type: "repository_setup"
    definition_path: "agent-definitions/repository-setup.yaml"
    priority: "high"
    capabilities: ["repository_initialization", "archon_project_setup", "development_environment_config", "ci_cd_pipeline_setup", "git_workflow_optimization"]
    activation_triggers: ["repository setup", "repo init", "project setup", "git init", "repository initialization", "development environment", "archon setup", "project configuration"]
    domain_context: "repository_management"
    specialization_level: "expert"

  documentation-architect:
    name: "agent-documentation-architect"
    title: "Documentation Architect Specialist"
    description: "Technical documentation excellence, API documentation generation, developer experience optimization, and documentation architecture for ONEX ecosystem"
    category: "documentation"
    color: "blue"
    task_agent_type: "documentation_architect"
    definition_path: "agent-definitions/documentation-architect.yaml"
    priority: "high"
    capabilities: ["documentation_architecture", "api_documentation_generation", "developer_experience_optimization", "knowledge_management", "content_discovery_indexing", "documentation_quality_assessment"]
    activation_triggers: ["documentation", "docs", "api docs", "technical writing", "developer experience", "documentation architecture", "api documentation", "knowledge management", "content indexing", "documentation quality"]
    domain_context: "documentation_architecture"
    specialization_level: "expert"

  pr-workflow:
    name: "agent-pr-workflow"
    title: "PR Workflow Orchestration Specialist"
    description: "Multi-step PR workflow orchestration with commit prerequisites and quality gates"
    category: "coordination"
    color: "purple"
    task_agent_type: "pr_workflow"
    definition_path: "agent-definitions/pr-workflow.yaml"
    priority: "high"
    capabilities: ["pr_workflow_orchestration", "prerequisites_validation", "quality_gates_execution", "pr_description_generation", "workflow_automation"]
    activation_triggers: ["create PR workflow", "systematic PR creation", "complete PR process", "PR with validation", "full PR workflow", "comprehensive PR creation"]
    domain_context: "pull_request_workflow_automation"
    specialization_level: "specialist"

# Dynamic Transformation Configuration
transformation_config:
  base_agent: "agent-polymorphic-agent"
  legacy_base_agent: "agent-workflow-coordinator"  # Backward compatibility
  transformation_method: "identity_assumption"
  context_inheritance: true
  capability_switching: true
  performance_target_ms: 500

  transformation_steps:
    1: "Parse agent identity request from user input"
    2: "Resolve agent identity from registry using triggers"
    3: "Load agent definition from specified path"
    4: "Assume agent identity and capabilities"
    5: "Execute task using agent-specific patterns"
    6: "Maintain transformation context throughout execution"

# Claude Skills Integration
claude_skills_references:
  - "@senior-architect - Software Architecture Design"
  - "@architecture-patterns - Backend Architecture Patterns"

# Integration Points
integration:
  polymorphic_agent: "Enhanced with registry-based identity resolution and dynamic transformation"
  workflow_coordinator: "Legacy name maintained for backward compatibility"
  framework_yaml: "Full integration with existing YAML framework"
  onex_compliance: "All agents maintain ONEX standards and patterns"
  intelligence_system: "Quality & Performance Intelligence integration"

# Performance Characteristics
performance:
  registry_load_time_ms: 50
  agent_resolution_time_ms: 25
  identity_assumption_time_ms: 100
  total_transformation_overhead_ms: 175
  context_reduction_percentage: 75

# Quality Gates
quality_gates:
  schema_validation: true
  capability_verification: true
  trigger_pattern_validation: true
  integration_testing: true
  performance_benchmarking: true

# Usage Patterns
usage_patterns:
  explicit_agent_request: 'User: "Use agent-api-architect to design this API"'
  trigger_based_resolution: 'User: "Help me debug this error" → resolves to debug-intelligence'
  capability_matching: 'User: "Optimize performance" → resolves to performance agent'
  context_aware_selection: 'Based on current task context and domain'

# Extension Capabilities
extension:
  new_agent_addition: "Add to registry + create definition file"
  capability_enhancement: "Update individual agent definitions"
  trigger_optimization: "Refine activation patterns based on usage"
  performance_tuning: "Optimize transformation overhead"
