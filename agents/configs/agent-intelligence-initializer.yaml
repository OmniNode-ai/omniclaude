agent_domain: intelligence_initializer
agent_purpose: Intelligence system initialization specialist for repository onboarding
  and comprehensive manual analysis with quality-driven setup validation
agent_title: ONEX Anti-YOLO Method + BFROS Framework
agent_description: Intelligence system initialization specialist for repository onboarding
  and comprehensive manual analysis. Validates intelligence infrastructure, establishes
  baselines, verifies service health, and ensures configuration completeness with
  quality gates at every initialization step.
agent_context: debugging
domain_query: intelligence gathering analysis patterns
implementation_query: data collection and synthesis
match_count: 5
confidence_threshold: 0.6
knowledge_capture_level: comprehensive

# Intelligence Integration (Phase 5)
capabilities:
  mandatory_functions: true
  template_system: true
  enhanced_patterns: true
  quality_intelligence: true

  # Intelligence-specific capabilities
  setup_validation: true              # Validates intelligence service configuration
  health_verification: true           # Verifies all intelligence services are healthy
  baseline_establishment: true        # Establishes performance and quality baselines
  configuration_analysis: true        # Analyzes completeness of intelligence config
  service_connectivity: true          # Tests connectivity to all intelligence services
  pattern_discovery: true             # Discovers existing intelligence patterns
  quality_baseline: true              # Establishes quality score baselines
  performance_baseline: true          # Establishes performance metric baselines

archon_mcp_enabled: true
correlation_tracking: true
parallel_capable: true

# Intelligence-specific triggers
triggers:
  # Primary triggers
  - "initialize intelligence system"
  - "setup intelligence infrastructure"
  - "validate intelligence configuration"
  - "establish intelligence baselines"
  - "onboard repository to intelligence"

  # Quality validation triggers
  - "verify intelligence health"
  - "validate intelligence setup"
  - "check intelligence services"

  # Baseline establishment triggers
  - "establish quality baseline"
  - "setup performance tracking"
  - "initialize pattern learning"
  - "configure intelligence monitoring"

# Intelligence Integration Patterns
intelligence_integration:
  # Pre-Execution Intelligence Gathering
  pre_execution:
    - step: "Validate Intelligence Service Health"
      tools:
        - health_check
        - get_search_service_stats
        - session_info
      analysis: |
        Verify all intelligence services are running and healthy:
        - Intelligence Service (8053): Quality scoring, performance analysis
        - Search Service (8055): Enhanced search, vector operations
        - MCP Service (8051): Session management, coordination
        - Bridge Service (8054): Database synchronization

        Check service response times, memory usage, and error rates.
        Verify connectivity between services.
      quality_gate:
        condition: "all_services_healthy"
        threshold: 1.0
        action_on_fail: "block_initialization"

    - step: "Analyze Existing Intelligence Configuration"
      tools:
        - get_available_sources
        - get_vector_stats
        - get_freshness_stats_tool
        - get_search_service_stats
      analysis: |
        Review current intelligence system configuration:
        - Available knowledge sources and their coverage
        - Vector collection statistics and index health
        - Document freshness status and stale document count
        - Search service capabilities and performance metrics

        Identify gaps in configuration or missing components.
      quality_gate:
        condition: "configuration_complete"
        threshold: 0.85
        action_on_fail: "warn_and_continue"

    - step: "Discover Existing Intelligence Patterns"
      tools:
        - research
        - semantic_search_with_context
        - search_entity_relationships
      analysis: |
        Search for existing intelligence patterns and usage:
        - Query patterns in pattern learning system
        - Historical quality assessments and trends
        - Performance optimization patterns
        - Document refresh patterns and strategies

        Learn from existing patterns to guide initialization.
      quality_gate:
        condition: "patterns_discovered"
        threshold: 0.7
        action_on_fail: "continue_with_defaults"

  # During-Execution Intelligence Application
  during_execution:
    - step: "Establish Quality Baselines"
      tools:
        - establish_performance_baseline
        - assess_code_quality
        - analyze_document_quality
      strategy: |
        For each major codebase component:
        1. Assess current code quality and get baseline score
        2. Establish performance baseline for key operations
        3. Document baseline metrics for future comparison
        4. Set quality thresholds for ongoing monitoring

        Focus on:
        - ONEX architectural compliance scores
        - Performance metrics (response time, throughput)
        - Documentation quality scores
        - Anti-pattern detection baseline
      intelligence_enhancement: |
        Use baseline establishment to create reference points for:
        - Quality degradation detection
        - Performance regression identification
        - Optimization opportunity tracking
        - Pattern learning calibration

    - step: "Configure Pattern Learning"
      tools:
        - research
        - perform_rag_query
      strategy: |
        Initialize pattern learning system for the repository:
        1. Configure pattern observation for key workflows
        2. Set up quality score tracking for patterns
        3. Enable pattern lineage tracking
        4. Configure feedback loop orchestration

        Create initial patterns for:
        - Repository structure and architecture
        - Common development workflows
        - Quality improvement strategies
        - Performance optimization approaches
      intelligence_enhancement: |
        Pattern learning enables:
        - Automatic discovery of best practices
        - Learning from successful changes
        - Identifying anti-patterns early
        - Building repository-specific knowledge

    - step: "Initialize Document Freshness Tracking"
      tools:
        - analyze_document_freshness_tool
        - get_stale_documents_tool
        - get_freshness_stats_tool
      strategy: |
        Set up document lifecycle management:
        1. Analyze all documentation for initial freshness scores
        2. Identify stale or outdated documents
        3. Configure automatic freshness monitoring
        4. Set up refresh strategies for critical documents

        Prioritize:
        - API documentation
        - Architecture guides
        - README files
        - Integration guides
      intelligence_enhancement: |
        Freshness tracking ensures:
        - Documentation stays current
        - Outdated information is flagged
        - Automatic refresh recommendations
        - Documentation quality maintenance

    - step: "Configure Performance Monitoring"
      tools:
        - establish_performance_baseline
        - monitor_performance_trends
        - get_optimization_report
      strategy: |
        Set up continuous performance monitoring:
        1. Establish baselines for critical operations
        2. Configure performance trend tracking
        3. Set up optimization opportunity detection
        4. Enable automatic performance reporting

        Monitor:
        - Intelligence service response times
        - Search query performance
        - Pattern learning latency
        - Resource utilization
      intelligence_enhancement: |
        Performance monitoring enables:
        - Early detection of performance issues
        - Proactive optimization opportunities
        - Resource usage optimization
        - Capacity planning insights

  # Post-Execution Intelligence Validation
  post_execution:
    - step: "Validate Complete Intelligence Setup"
      tools:
        - health_check
        - get_search_service_stats
        - get_vector_stats
        - get_freshness_stats_tool
      validation: |
        Comprehensive validation of intelligence initialization:

        ✓ Service Health:
          - All intelligence services responding
          - No critical errors in logs
          - Response times within acceptable ranges
          - Resource usage at healthy levels

        ✓ Configuration Completeness:
          - Knowledge sources properly configured
          - Vector collections initialized
          - Pattern learning system active
          - Document freshness tracking enabled

        ✓ Baseline Establishment:
          - Quality baselines recorded
          - Performance baselines established
          - Freshness baselines set
          - Pattern learning calibrated

        ✓ Monitoring Active:
          - Performance trends being tracked
          - Quality metrics being collected
          - Freshness updates occurring
          - Pattern observation running
      quality_gate:
        condition: "initialization_complete"
        threshold: 0.95
        action_on_fail: "rollback_and_report"

    - step: "Generate Intelligence Setup Report"
      tools:
        - get_optimization_report
        - research
      validation: |
        Create comprehensive setup report including:

        1. Service Status:
           - Health check results for all services
           - Configuration summary
           - Connectivity verification

        2. Baseline Metrics:
           - Quality score baselines by component
           - Performance baselines by operation
           - Freshness baseline statistics

        3. Discovered Patterns:
           - Repository structure patterns
           - Quality improvement opportunities
           - Performance optimization candidates

        4. Recommendations:
           - Immediate action items
           - Configuration improvements
           - Monitoring enhancements
           - Pattern learning optimizations
      quality_gate:
        condition: "report_comprehensive"
        threshold: 0.9
        action_on_fail: "warn_incomplete"

    - step: "Track Intelligence Initialization Pattern"
      tools:
        - research
      validation: |
        Record initialization as a pattern for learning:
        - Repository characteristics
        - Initialization decisions made
        - Quality baselines established
        - Performance characteristics
        - Configuration choices
        - Success metrics

        This pattern helps improve future initializations.
      pattern_learning:
        event_type: "intelligence_initialization"
        metadata:
          - repository_size
          - service_count
          - baseline_quality_score
          - setup_duration
          - configuration_completeness
        quality_score_tracking: true

# Quality Gates for Intelligence Operations
quality_gates:
  service_health:
    description: "All intelligence services must be healthy"
    threshold: 1.0
    critical: true

  configuration_completeness:
    description: "Intelligence configuration must be at least 85% complete"
    threshold: 0.85
    critical: false

  baseline_establishment:
    description: "Quality and performance baselines must be established"
    threshold: 0.95
    critical: true

  monitoring_active:
    description: "Performance and quality monitoring must be active"
    threshold: 1.0
    critical: true

  initialization_validation:
    description: "Complete initialization validation must pass"
    threshold: 0.95
    critical: true

# Pattern Learning Configuration
pattern_learning:
  enabled: true
  patterns_to_track:
    - initialization_strategies
    - service_health_patterns
    - baseline_establishment_approaches
    - configuration_optimization
    - quality_improvement_paths
    - performance_optimization_strategies

  quality_dimensions:
    - setup_completeness
    - service_health
    - baseline_accuracy
    - monitoring_effectiveness
    - documentation_coverage

  learning_focus:
    - successful_initialization_patterns
    - common_configuration_issues
    - optimal_baseline_values
    - service_connectivity_best_practices
    - quality_gate_effectiveness
