agent_domain: structured_logging
agent_purpose: Systematically add structured logging throughout ONEX codebase following
  centralized policies with RAG-enhanced implementation and debug intelligence capture
agent_title: ONEX Anti-YOLO Method + BFROS Framework
agent_description: Systematically add structured logging throughout ONEX codebase
  following centralized policies with RAG-enhanced implementation and debug intelligence
  capture
agent_context: general
domain_query: structured_logging patterns best practices
implementation_query: structured_logging implementation strategies
match_count: 5
confidence_threshold: 0.6
knowledge_capture_level: comprehensive

# Enhanced Intelligence Capabilities
capabilities:
  mandatory_functions: true
  template_system: true
  enhanced_patterns: true
  quality_intelligence: true

  # Phase 5 Intelligence-Specific Capabilities
  log_structure_analysis: true          # Analyze log structure quality and completeness
  log_performance_assessment: true      # Assess logging performance impact
  log_security_validation: true         # Validate security and PII handling in logs
  observability_coverage: true          # Measure observability coverage
  log_pattern_recognition: true         # Identify logging patterns and anti-patterns
  correlation_optimization: true        # Optimize correlation ID propagation
  log_level_intelligence: true          # Intelligent log level recommendations
  contextual_enrichment: true           # Context-aware log enrichment strategies

archon_mcp_enabled: true
correlation_tracking: true
parallel_capable: true

# Intelligence-Enhanced Triggers
triggers:
  # Standard triggers
  - "add logging"
  - "implement logging"
  - "structured logging"
  - "log events"
  - "logging strategy"
  - "observability"

  # Intelligence-specific triggers
  - "analyze logging quality"
  - "assess log coverage"
  - "validate log security"
  - "optimize logging performance"
  - "improve log structure"
  - "logging best practices"
  - "log correlation strategy"
  - "observability gaps"

# Comprehensive Intelligence Integration
intelligence_integration:
  enabled: true

  # Pre-Implementation Analysis
  pre_implementation:
    analyze_existing_logs:
      tool: "assess_code_quality"
      parameters:
        focus: "logging_patterns"
        check_completeness: true
        security_validation: true
      objective: "Assess current logging implementation quality and identify gaps"

    analyze_log_coverage:
      tool: "get_quality_patterns"
      parameters:
        pattern_type: "logging_coverage"
      objective: "Identify areas lacking adequate logging coverage"

    assess_performance_impact:
      tool: "establish_performance_baseline"
      parameters:
        operation_name: "logging_operations"
        metrics: ["log_write_latency", "serialization_overhead", "io_impact"]
      objective: "Establish baseline for logging performance impact"

    validate_security_patterns:
      tool: "check_architectural_compliance"
      parameters:
        architecture_type: "logging_security"
        check_pii_handling: true
      objective: "Ensure logs don't expose sensitive information"

    analyze_observability:
      description: "Review system observability and identify logging gaps"
      metrics:
        - "Critical path coverage"
        - "Error scenario logging"
        - "Performance bottleneck visibility"
        - "Distributed tracing readiness"

  # During Implementation Intelligence
  during_implementation:
    validate_log_structure:
      tool: "assess_code_quality"
      parameters:
        focus: "log_structure_compliance"
        validate_schema: true
      trigger: "after_each_logging_addition"
      objective: "Ensure structured log format compliance"
      quality_gate:
        min_score: 0.80
        block_on_failure: true

    check_performance_impact:
      tool: "monitor_performance_trends"
      parameters:
        metrics: ["log_write_duration", "memory_usage", "serialization_cost"]
        alert_threshold: 0.15  # 15% performance degradation
      trigger: "continuous"
      objective: "Monitor logging performance impact in real-time"
      quality_gate:
        max_degradation: 0.10  # Block if >10% performance impact
        block_on_failure: true

    validate_correlation_flow:
      description: "Validate correlation ID propagation across components"
      check_points:
        - "Correlation ID presence in all log entries"
        - "Correlation ID propagation across async boundaries"
        - "Correlation ID in error logs"
        - "Correlation ID in external API calls"
      objective: "Ensure complete request traceability"
      quality_gate:
        min_coverage: 0.95
        block_on_failure: true

    security_validation:
      tool: "check_architectural_compliance"
      parameters:
        architecture_type: "logging_security"
        check_pii_scrubbing: true
        validate_secrets: true
      trigger: "after_each_logging_addition"
      objective: "Prevent sensitive data leakage in logs"
      quality_gate:
        must_pass: true
        block_on_failure: true

    observability_coverage:
      description: "Measure observability coverage improvements"
      metrics:
        - "Code paths with structured logging"
        - "Error scenarios with context"
        - "Performance-critical operations logging"
        - "Integration points logging"
      objective: "Ensure comprehensive system observability"
      quality_gate:
        min_coverage: 0.85
        block_on_failure: false

  # Post-Implementation Validation
  post_implementation:
    comprehensive_quality_assessment:
      tool: "assess_code_quality"
      parameters:
        focus: "logging_implementation"
        comprehensive: true
      objective: "Final quality assessment of logging implementation"
      quality_gate:
        min_score: 0.85
        block_on_failure: true

    performance_impact_report:
      tool: "get_optimization_report"
      parameters:
        time_window_hours: 1
        include_recommendations: true
      objective: "Generate performance impact report with optimization suggestions"

    pattern_quality_validation:
      tool: "get_quality_patterns"
      parameters:
        pattern_type: "best_practices"
        focus: "logging"
      objective: "Validate logging patterns against best practices"
      quality_gate:
        min_best_practice_score: 0.80
        block_on_failure: false

    observability_validation:
      description: "Validate end-to-end observability improvements"
      validation_scenarios:
        - "Trace a request through all system components"
        - "Identify performance bottlenecks from logs"
        - "Debug a failure scenario using logs"
        - "Monitor system health via log metrics"
      objective: "Ensure logs enable effective system observability"

    security_audit:
      tool: "check_architectural_compliance"
      parameters:
        architecture_type: "logging_security"
        comprehensive: true
      objective: "Final security audit of logging implementation"
      quality_gate:
        must_pass: true
        block_on_failure: true

# Quality Gates Configuration
quality_gates:
  log_structure_quality:
    metric: "structured_format_compliance"
    threshold: 0.90
    blocking: true
    description: "All logs must follow structured format standards"

  performance_impact:
    metric: "logging_overhead_percentage"
    threshold: 0.10  # Max 10% overhead
    blocking: true
    description: "Logging must not significantly impact performance"

  security_compliance:
    metric: "pii_exposure_risk"
    threshold: 0.0  # Zero tolerance
    blocking: true
    description: "No PII or sensitive data in logs"

  observability_coverage:
    metric: "code_path_logging_coverage"
    threshold: 0.85
    blocking: false
    description: "Critical paths must have adequate logging"

  correlation_completeness:
    metric: "correlation_id_presence"
    threshold: 0.95
    blocking: true
    description: "Correlation IDs must be present in all log entries"

  contextual_richness:
    metric: "log_context_quality"
    threshold: 0.80
    blocking: false
    description: "Logs should include rich contextual information"

# Pattern Learning Configuration
pattern_learning:
  enabled: true
  track_patterns:
    - "effective_log_structures"
    - "high_value_log_points"
    - "performance_efficient_logging"
    - "security_compliant_patterns"
    - "correlation_propagation_patterns"
    - "error_logging_patterns"
    - "observability_best_practices"

  learn_from:
    - "successful_debugging_sessions"
    - "performance_optimization_wins"
    - "security_incident_prevention"
    - "effective_observability_implementations"

  feedback_loop:
    capture_outcomes: true
    track_debugging_effectiveness: true
    measure_observability_value: true
    identify_logging_gaps: true
